pipeline {
    agent any 
    stages {
        stage('Stage_1 - Install packages') { 
            steps {
               sh 'sudo pip install ncclient'
               sh 'sudo pip install pandas'
               sh 'sudo pip install ipaddress'
               sh 'sudo pip install netaddr'
               sh 'sudo pip install prettytable'
            }
        }

        stage('Stage_2 - Checking and Fixing Violations') { 
            steps {
                echo "small change to code"
                echo "big change"
                //sh "pylint /home/venky/Lab\ -\ 9\ Jenkins/netman_netconf_obj2.py"
            }
        }
        
        stage('Stage_3 - Running the application') { 
            steps {
                sh "sudo python3 /home/venky/Lab9Jenkins/netman_netconf_obj2.py"
            }
        }

        stage('Stage_4 - Unit Testing') { 
            steps {
                echo "this is stage4"
            }

        }
    
    }
    post {
        always {   
            emailext attachLog: true, body: ' "$PROJECT_NAME" "$BUILD_NUMBER" "$BUILD_STATUS"', subject: '$BUILD_STATUS', to: 'vlnp.venkatesh@colorado.edu'
        }
    }
}    